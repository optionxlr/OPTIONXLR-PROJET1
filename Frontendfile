import Head from 'next/head'
import CardProduit from '../components/CardProduit'
import FormulaireNewsletter from '../components/FormulaireNewsletter'
import { fetchProduits } from '../lib/ali'

export async function getStaticProps() {
  const produits = await fetchProduits()
  return { props: { produits }, revalidate: 3600 }
}

export default function Home({ produits }) {
  return (
    <>
      <Head>
        <title>ElectroniShop â€“ Gadgets Ã©lectroniques</title>
      </Head>

      <div className="bg-gray-900 min-h-screen text-white">
        <div className="container mx-auto px-4 py-12">
          {/* HERO */}
          <section className="text-center mb-16">
            <h1 className="text-4xl font-extrabold mb-4">
              ðŸš€ Les gadgets de demain, aujourdâ€™hui
            </h1>
            <p className="text-lg text-gray-300 mb-6">
              DÃ©couvrez nos nouveautÃ©s technologiques innovantes.
            </p>
            <a
              href="#produits"
              className="inline-block text-neon px-6 py-2 border border-neon rounded-full hover:shadow-neon transition"
            >
              Voir les produits
            </a>
          </section>

          {/* PRODUITS */}
          <section id="produits" className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
            {produits.map((p) => (
              <CardProduit key={p.productId} produit={p} />
            ))}
          </section>

          {/* NEWSLETTER */}
          <section className="mt-20 bg-gray-800 p-8 rounded-lg text-center">
            <h2 className="text-2xl font-semibold mb-4">Restez informÃ©</h2>
            <p className="mb-6 text-gray-400">
              Abonnez-vous Ã  notre newsletter pour recevoir les derniÃ¨res nouveautÃ©s Ã©lectroniques.
            </p>
            <FormulaireNewsletter />
          </section>
        </div>
      </div>
    </>
  )
}
